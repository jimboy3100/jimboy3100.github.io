// decoded by Alexander Lylko
// on 24.02.2019 23:40 ｚᶻ͛
// recoded by Jimboy3100

(function(window, $) {
	var _0x4a1f6b = {
		'AF': 'JP-Tokyo',
		'AX': 'EU-London',
		'AL': 'EU-London',
		'DZ': 'EU-London',
		'AS': 'SG-Singapore',
		'AD': 'EU-London',
		'AO': 'EU-London',
		'AI': 'US-Atlanta',
		'AG': 'US-Atlanta',
		'AR': 'BR-Brazil',
		'AM': 'JP-Tokyo',
		'AW': 'US-Atlanta',
		'AU': 'SG-Singapore',
		'AT': 'EU-London',
		'AZ': 'JP-Tokyo',
		'BS': 'US-Atlanta',
		'BH': 'JP-Tokyo',
		'BD': 'JP-Tokyo',
		'BB': 'US-Atlanta',
		'BY': 'EU-London',
		'BE': 'EU-London',
		'BZ': 'US-Atlanta',
		'BJ': 'EU-London',
		'BM': 'US-Atlanta',
		'BT': 'JP-Tokyo',
		'BO': 'BR-Brazil',
		'BQ': 'US-Atlanta',
		'BA': 'EU-London',
		'BW': 'EU-London',
		'BR': 'BR-Brazil',
		'IO': 'JP-Tokyo',
		'VG': 'US-Atlanta',
		'BN': 'JP-Tokyo',
		'BG': 'EU-London',
		'BF': 'EU-London',
		'BI': 'EU-London',
		'KH': 'JP-Tokyo',
		'CM': 'EU-London',
		'CA': 'US-Atlanta',
		'CV': 'EU-London',
		'KY': 'US-Atlanta',
		'CF': 'EU-London',
		'TD': 'EU-London',
		'CL': 'BR-Brazil',
		'CN': 'CN-China',
		'CX': 'JP-Tokyo',
		'CC': 'JP-Tokyo',
		'CO': 'BR-Brazil',
		'KM': 'EU-London',
		'CD': 'EU-London',
		'CG': 'EU-London',
		'CK': 'SG-Singapore',
		'CR': 'US-Atlanta',
		'CI': 'EU-London',
		'HR': 'EU-London',
		'CU': 'US-Atlanta',
		'CW': 'US-Atlanta',
		'CY': 'JP-Tokyo',
		'CZ': 'EU-London',
		'DK': 'EU-London',
		'DJ': 'EU-London',
		'DM': 'US-Atlanta',
		'DO': 'US-Atlanta',
		'EC': 'BR-Brazil',
		'EG': 'EU-London',
		'SV': 'US-Atlanta',
		'GQ': 'EU-London',
		'ER': 'EU-London',
		'EE': 'EU-London',
		'ET': 'EU-London',
		'FO': 'EU-London',
		'FK': 'BR-Brazil',
		'FJ': 'SG-Singapore',
		'FI': 'EU-London',
		'FR': 'EU-London',
		'GF': 'BR-Brazil',
		'PF': 'SG-Singapore',
		'GA': 'EU-London',
		'GM': 'EU-London',
		'GE': 'JP-Tokyo',
		'DE': 'EU-London',
		'GH': 'EU-London',
		'GI': 'EU-London',
		'GR': 'EU-London',
		'GL': 'US-Atlanta',
		'GD': 'US-Atlanta',
		'GP': 'US-Atlanta',
		'GU': 'SG-Singapore',
		'GT': 'US-Atlanta',
		'GG': 'EU-London',
		'GN': 'EU-London',
		'GW': 'EU-London',
		'GY': 'BR-Brazil',
		'HT': 'US-Atlanta',
		'VA': 'EU-London',
		'HN': 'US-Atlanta',
		'HK': 'JP-Tokyo',
		'HU': 'EU-London',
		'IS': 'EU-London',
		'IN': 'JP-Tokyo',
		'ID': 'JP-Tokyo',
		'IR': 'JP-Tokyo',
		'IQ': 'JP-Tokyo',
		'IE': 'EU-London',
		'IM': 'EU-London',
		'IL': 'JP-Tokyo',
		'IT': 'EU-London',
		'JM': 'US-Atlanta',
		'JP': 'JP-Tokyo',
		'JE': 'EU-London',
		'JO': 'JP-Tokyo',
		'KZ': 'JP-Tokyo',
		'KE': 'EU-London',
		'KI': 'SG-Singapore',
		'KP': 'JP-Tokyo',
		'KR': 'JP-Tokyo',
		'KW': 'JP-Tokyo',
		'KG': 'JP-Tokyo',
		'LA': 'JP-Tokyo',
		'LV': 'EU-London',
		'LB': 'JP-Tokyo',
		'LS': 'EU-London',
		'LR': 'EU-London',
		'LY': 'EU-London',
		'LI': 'EU-London',
		'LT': 'EU-London',
		'LU': 'EU-London',
		'MO': 'JP-Tokyo',
		'MK': 'EU-London',
		'MG': 'EU-London',
		'MW': 'EU-London',
		'MY': 'JP-Tokyo',
		'MV': 'JP-Tokyo',
		'ML': 'EU-London',
		'MT': 'EU-London',
		'MH': 'SG-Singapore',
		'MQ': 'US-Atlanta',
		'MR': 'EU-London',
		'MU': 'EU-London',
		'YT': 'EU-London',
		'MX': 'US-Atlanta',
		'FM': 'SG-Singapore',
		'MD': 'EU-London',
		'MC': 'EU-London',
		'MN': 'JP-Tokyo',
		'ME': 'EU-London',
		'MS': 'US-Atlanta',
		'MA': 'EU-London',
		'MZ': 'EU-London',
		'MM': 'JP-Tokyo',
		'NA': 'EU-London',
		'NR': 'SG-Singapore',
		'NP': 'JP-Tokyo',
		'NL': 'EU-London',
		'NC': 'SG-Singapore',
		'NZ': 'SG-Singapore',
		'NI': 'US-Atlanta',
		'NE': 'EU-London',
		'NG': 'EU-London',
		'NU': 'SG-Singapore',
		'NF': 'SG-Singapore',
		'MP': 'SG-Singapore',
		'NO': 'EU-London',
		'OM': 'JP-Tokyo',
		'PK': 'JP-Tokyo',
		'PW': 'SG-Singapore',
		'PS': 'JP-Tokyo',
		'PA': 'US-Atlanta',
		'PG': 'SG-Singapore',
		'PY': 'BR-Brazil',
		'PE': 'BR-Brazil',
		'PH': 'JP-Tokyo',
		'PN': 'SG-Singapore',
		'PL': 'EU-London',
		'PT': 'EU-London',
		'PR': 'US-Atlanta',
		'QA': 'JP-Tokyo',
		'RE': 'EU-London',
		'RO': 'EU-London',
		'RU': 'RU-Russia',
		'RW': 'EU-London',
		'BL': 'US-Atlanta',
		'SH': 'EU-London',
		'KN': 'US-Atlanta',
		'LC': 'US-Atlanta',
		'MF': 'US-Atlanta',
		'PM': 'US-Atlanta',
		'VC': 'US-Atlanta',
		'WS': 'SG-Singapore',
		'SM': 'EU-London',
		'ST': 'EU-London',
		'SA': 'EU-London',
		'SN': 'EU-London',
		'RS': 'EU-London',
		'SC': 'EU-London',
		'SL': 'EU-London',
		'SG': 'JP-Tokyo',
		'SX': 'US-Atlanta',
		'SK': 'EU-London',
		'SI': 'EU-London',
		'SB': 'SG-Singapore',
		'SO': 'EU-London',
		'ZA': 'EU-London',
		'SS': 'EU-London',
		'ES': 'EU-London',
		'LK': 'JP-Tokyo',
		'SD': 'EU-London',
		'SR': 'BR-Brazil',
		'SJ': 'EU-London',
		'SZ': 'EU-London',
		'SE': 'EU-London',
		'CH': 'EU-London',
		'SY': 'EU-London',
		'TW': 'JP-Tokyo',
		'TJ': 'JP-Tokyo',
		'TZ': 'EU-London',
		'TH': 'JP-Tokyo',
		'TL': 'JP-Tokyo',
		'TG': 'EU-London',
		'TK': 'SG-Singapore',
		'TO': 'SG-Singapore',
		'TT': 'US-Atlanta',
		'TN': 'EU-London',
		'TR': 'TK-Turkey',
		'TM': 'JP-Tokyo',
		'TC': 'US-Atlanta',
		'TV': 'SG-Singapore',
		'UG': 'EU-London',
		'UA': 'EU-London',
		'AE': 'EU-London',
		'GB': 'EU-London',
		'US': 'US-Atlanta',
		'UM': 'SG-Singapore',
		'VI': 'US-Atlanta',
		'UY': 'BR-Brazil',
		'UZ': 'JP-Tokyo',
		'VU': 'SG-Singapore',
		'VE': 'BR-Brazil',
		'VN': 'JP-Tokyo',
		'WF': 'SG-Singapore',
		'EH': 'EU-London',
		'YE': 'JP-Tokyo',
		'ZM': 'EU-London',
		'ZW': 'EU-London'
	};
	var _0x4d36c9 = {
		'context': null,
		'defaultProvider': 'facebook',
		'loginIntent': '0',
		'userInfo': {
			'socialToken': null,
			'tokenExpires': '',
			'level': '',
			'xp': '',
			'xpNeeded': '',
			'name': '',
			'picture': '',
			'displayName': '',
			'loggedIn': '0',
			'socialId': ''
		}
	};
	var _0x2f4cd1 = {
		'fb_app_id': 0x268301c162623,
		'gplus_client_id': '686981379285-oroivr8u2ag1dtm3ntcs6vi05i3cpv0j.apps.googleusercontent.com',
		'master_url': 'webbouncer-live-v6-0.agario.miniclippt.com',
		'endpoint_version': 'v4',
		'proto_version': '12.0.1',
		'client_version': 0x76c6,
		'client_version_string': '3.4.6'
	};
	var _0x47c6e6 = ![];
	var _0x58459c = 0x0;
	var _0x334a78 = null;
	window.master = {
		'ws': null,
		'serverIP': null,
		'endpoint': null,
		'region': '',
		'gameMode': ':ffa',
		'partyToken': '',
		'findingServer': 0x0,
		'curValidFindServer': 0x0,
		'backoffPeriod': 0x1f4,
		'regionNames': {},
		'context': '',
		'accessToken': null,
		'clientVersion': _0x2f4cd1.client_version,
		'clientVersionString': _0x2f4cd1.client_version_string,
		'getClientVersion': function() {
			if(window.localStorage.getItem('ogarioClientVersionString') !== null) {
				this.clientVersionString = window.localStorage.getItem('ogarioClientVersionString');
				this.clientVersion = this.parseClientVersion(this.clientVersionString);
			}
			var _0x5e977a = this;
			$.ajax('//agar.io/mc/agario.js', {
				'error': function() {},
				'success': function(_0x5bc58c) {
					var _0xe114bf = _0x5bc58c.match(/versionString=\"(\d+\.\d+\.\d+)\"/);
					if(_0xe114bf) {
						var _0x389180 = _0xe114bf[0x1];
						var _0x5e82e8 = _0x5e977a.parseClientVersion(_0x389180);
						console.log('[Master] Current client version:', _0x5e82e8, _0x389180);
						_0x5e977a.setClientVersion(_0x5e82e8, _0x389180);
					}
				},
				'dataType': 'text',
				'method': 'GET',
				'cache': ![],
				'crossDomain': !![]
			});
		},
		'setClientVersion': function(_0x52cac8, _0x1f5926) {
			console.log('[Master] Your client version:', this.clientVersion, this.clientVersionString);
			if(this.clientVersion != _0x52cac8) {
				console.log('[Master] Changing client version...');
				this.clientVersion = _0x52cac8;
				this.clientVersionString = _0x1f5926;
				if(window.core) {
					window.core.setClientVersion(_0x52cac8, _0x1f5926);
				}
				window.localStorage.setItem('ogarioClientVersionString', _0x1f5926);
				this.reconnect(!![]);
			}
		},
		'parseClientVersion': function(_0x160127) {
			return parseInt(_0x160127.split('.')[0x0]) * 0x2710 + parseInt(_0x160127.split('.')[0x1]) * 0x64 + parseInt(_0x160127.split('.')[0x2]);
		},
		'getRegionCode': function() {
			var _0x1a6061 = window.localStorage.getItem('location');
			if(_0x1a6061) {
				this.setRegion(_0x1a6061, ![]);
				if(!this.checkPartyHash()) {
					this.reconnect();
				}
				return;
			}
			var _0xb6f198 = this;
			/*$.get('//gc.agar.io', function(_0x4a6f91) {
				var _0x4f6506 = _0x4a6f91.split(' ');
				var _0x102283 = _0x4f6506[0x0];
				_0xb6f198.setRegionCode(_0x102283);
			}, 'text'); */
			userData=$.get("https://extreme-ip-lookup.com/json/", function (response) { $("#response").html(JSON.stringify(response, null, 4));
				if (userData!=null) {localStorage.setItem("userData", JSON.stringify(userData));}
				_0xb6f198.setRegionCode(userData.responseJSON.countryCode);
			}, "jsonp");			
			
			
		},
		'setRegionCode': function(_0x845190) {
			if(_0x4a1f6b.hasOwnProperty(_0x845190)) {
				this.setRegion(_0x4a1f6b[_0x845190], ![]);
				if(!this.checkPartyHash()) {
					this.reconnect();
				}
			}
		},
		'setRegion': function(_0x534a82, _0x256ab9) {
			if(_0x256ab9 == null) {
				_0x256ab9 = !![];
			}
			if(!_0x534a82) {
				return;
			}
			this.region = _0x534a82;
			window.localStorage.setItem('location', _0x534a82);
			if($('#region').val() !== _0x534a82) {
				$('#region').val(_0x534a82);
			}
			if(_0x256ab9) {
				this.reconnect();
			}
		},
		'checkRegion': function() {
			var _0x2eb0d2 = $('#region');
			var _0x4b7fe8 = _0x2eb0d2.val();
			if(_0x4b7fe8) {
				window.localStorage.setItem('location', _0x4b7fe8);
			} else {
				_0x4b7fe8 = window.localStorage.getItem('location');
				if(_0x4b7fe8) {
					$('#region').val(_0x4b7fe8);
				}
			}
			if(_0x2eb0d2.val()) {
				$('#locationKnown').append(_0x2eb0d2);
			} else {
				$('#locationUnknown').append(_0x2eb0d2);
			}
		},
		'refreshRegionInfo': function() {
			var _0x5c03ed = this;
			this.makeMasterSimpleRequest('info', 'text', function(_0x19288f) {
				_0x19288f = JSON.parse(_0x19288f);
				var _0x8d9908 = _0x19288f.regions;
				for(var _0x48753d in _0x8d9908) {
					if(_0x8d9908.hasOwnProperty(_0x48753d)) {
						$('#region option[value=\"' + _0x48753d + '\"]').text(_0x5c03ed.regionNames[_0x48753d] + ' (' + _0x8d9908[_0x48753d].numPlayers + ')');
					}
				}
			});
		},
		'getRegionNames': function() {
			var _0x4413e5 = this;
			$('#region option').each(function() {
				var _0x23ec1a = $(this).val();
				var _0x362b3d = $(this).text();
				if(!_0x4413e5.regionNames.hasOwnProperty(_0x23ec1a)) {
					_0x4413e5.regionNames[_0x23ec1a] = _0x362b3d;
				}
			});
		},
		'setGameMode': function(_0x314660, _0x1960fa) {
			if(_0x1960fa == null) {
				_0x1960fa = !![];
			}
			this.applyGameMode(_0x314660);
			this.gameMode = _0x314660;
			if(_0x1960fa) {
				this.reconnect();
			}
		},
		'applyGameMode': function(_0x4ff726) {
			$('#helloContainer, #overlays-hud').attr('data-gamemode', _0x4ff726);
			$('#gamemode').val(_0x4ff726);
			if(_0x4ff726 !== ':party') {
				this.replaceHistoryState('/#' + window.encodeURIComponent(_0x4ff726.replace(':', '')));
			}
		},
		'handleChangeMode': function() {
			var _0x4fda76 = $('#gamemode').val();
			this.setGameMode(_0x4fda76);
		},
		'findServer': function(_0x36984d, _0x4e6d07) {
			var _0x5868fc = Date.now();
			if(_0x5868fc - this.findingServer < 0x1f4) {
				return;
			}
			if(window.core) {
				window.core.disconnect();
			}
			var _0xdfad83 = 'findServer';
			if(_0x36984d == null) {
				_0x36984d = '';
			}
			if(_0x4e6d07 == null) {
				_0x4e6d07 = ':ffa';
			} else if(_0x4e6d07 === ':battleroyale') {
				_0xdfad83 = 'findBattleRoyaleServer';
			}
			var _0x381217 = this;
			var _0x10931d = this.setRequestMsg(_0x36984d, _0x4e6d07);
			var _0x1d1e8a = ++this.curValidFindServer;
			this.findingServer = _0x5868fc;
			this.makeMasterRequest(_0x2f4cd1.endpoint_version + '/' + _0xdfad83, _0x10931d, function(_0x10931d) {
				if(_0x1d1e8a != _0x381217.curValidFindServer) {
					return;
				}
				var _0xd7f6de = _0x10931d.endpoints;
				if(_0xd7f6de === null || _0xd7f6de.https === '0.0.0.0:0') {
					_0x381217.findServer(_0x36984d, _0x4e6d07);
					return;
				}
				_0x381217.serverIP = _0xd7f6de.https;
				if(_0x10931d.token !== null) {
					_0x381217.partyToken = _0x10931d.token;
				}
				_0x381217.backoffPeriod = 0x1f4;
				_0x381217.connect(_0x381217.serverIP);
			}, function() {
				_0x381217.backoffPeriod *= 0x2;
				setTimeout(function() {
					_0x381217.findServer(_0x36984d, _0x4e6d07);
				}, _0x381217.backoffPeriod);
			});
		},
		'setRequestMsg': function(_0x5a82f5, _0x2c73bb, _0x436e5a) {
			var _0x20b3a0 = function(_0x502603) {
				_0xd1e836.push(_0x502603.length);
				for(var _0xa5d347 = 0x0; _0xa5d347 < _0x502603.length; _0xa5d347++) {
					_0xd1e836.push(_0x502603.charCodeAt(_0xa5d347));
				}
			};
			var _0xd1e836 = [0xa, 0x4 + _0x5a82f5.length + _0x2c73bb.length, 0xa];
			_0x20b3a0(_0x5a82f5);
			_0xd1e836.push(0x12);
			_0x20b3a0(_0x2c73bb);
			if(_0x436e5a) {
				_0xd1e836.push(0x1a, 0x8, 0xa);
				_0x20b3a0(_0x436e5a);
			}
			return new Uint8Array(_0xd1e836);
		},
		'makeMasterRequest': function(_0x2225bd, _0x3f03af, _0x1b4644, _0x3234f7, _0x9d2d21) {
			var _0x375d97 = this;
			if(_0x9d2d21 == null) {
				_0x9d2d21 = 'application/octet-stream';
			}
			$.ajax('https://' + _0x2f4cd1.master_url + '/' + _0x2225bd, {
				'beforeSend': function(_0x39d5b0) {
					_0x39d5b0.setRequestHeader('Accept', 'text/plain');
					_0x39d5b0.setRequestHeader('Accept', '*/*');
					_0x39d5b0.setRequestHeader('Accept', 'q=0.01');
					_0x39d5b0.setRequestHeader('Content-Type', _0x9d2d21);
					_0x39d5b0.setRequestHeader('x-support-proto-version', _0x2f4cd1.proto_version);
					_0x39d5b0.setRequestHeader('x-client-version', _0x375d97.clientVersion);
					return !![];
				},
				'error': function() {
					_0x3234f7 && _0x3234f7();
				},
				'success': function(_0x3f03af) {
					_0x1b4644(_0x3f03af);
				},
				'dataType': 'json',
				'method': 'POST',
				'data': _0x3f03af,
				'processData': ![],
				'cache': ![],
				'crossDomain': !![]
			});
		},
		'makeMasterSimpleRequest': function(_0x1d6b0a, _0x48bc6c, _0x427275, _0x4515c7) {
			var _0x19a572 = this;
			$.ajax('https://' + _0x2f4cd1.master_url + '/' + _0x1d6b0a, {
				'beforeSend': function(_0xd2b881) {
					_0xd2b881.setRequestHeader('x-support-proto-version', _0x2f4cd1.proto_version);
					_0xd2b881.setRequestHeader('x-client-version', _0x19a572.clientVersion);
					return !![];
				},
				'error': function() {
					_0x4515c7 && _0x4515c7();
				},
				'success': function(_0x295606) {
					_0x427275(_0x295606);
				},
				'dataType': _0x48bc6c,
				'method': 'GET',
				'cache': ![],
				'crossDomain': !![]
			});
		},
		'createParty': function() {
			this.setPartyState('3');
			this.setGameMode(':party');
		},
		'joinParty': function(_0x365289) {
			var _0x1e6228 = this;
			if(_0x365289.indexOf('#') != -0x1) {
				var _0x536ff3 = _0x365289.split('#')[0x1];
				_0x365289 = _0x536ff3;
			}
			this.setGameMode(':party', ![]);
			this.partyToken = _0x365289;
			this.replaceHistoryState('/#' + window.encodeURIComponent(_0x365289));
			var _0x3adda3 = this.setRequestMsg(this.region, '', _0x365289);
			this.makeMasterRequest(_0x2f4cd1.endpoint_version + '/getToken', _0x3adda3, function(_0x3adda3) {
				_0x1e6228.endpoint = _0x3adda3.endpoints.https;
				_0x1e6228.setPartyState('9');
			}, function() {
				_0x1e6228.setPartyState('6');
			});
		},
		'setPartyState': function(_0x48b73f) {
			if(_0x48b73f === '9') {
				this.updatePartyToken();
				this.setGameMode(':party', ![]);
				this.connect(this.endpoint);
				_0x48b73f = '5';
			}
			$('#helloContainer').attr('data-party-state', _0x48b73f);
		},
		'connect': function(_0x5d1cb1) {
			console.log('[Master] Connect to:', _0x5d1cb1);
			this.ws = 'wss://' + _0x5d1cb1;
			if(this.gameMode === ':party' && this.partyToken) {
				this.ws += '?party_id=' + window.encodeURIComponent(this.partyToken);
			}
			if(window.core) {
				window.core.connect(this.ws);
			}
		},
		'reconnect': function(_0x5d6821) {
			if(!this.region) {
				return;
			}
			if(_0x5d6821 && this.serverIP) {
				this.connect(this.serverIP);
			} else {
				this.findServer(this.region, this.gameMode);
			}
		},
		'onConnect': function() {
			if(this.gameMode === ':party') {
				this.updatePartyToken();
			}
		},
		'onDisconnect': function() {
			this.reconnect();
		},
		'recaptchaRequested': function() {
			requestCaptcha(!![]);
		},
		'sendRecaptchaResponse': function(_0x196a5a) {
			if(window.core) {
				window.core.recaptchaResponse(_0x196a5a);
			}
		},
		'notifyToken': function(_0x350212) {
			this.sendRecaptchaResponse(_0x350212);
		},
		'setNick': function() {
			this.login();
			var _0x330ae2 = $('#nick').val();
			if(_0x330ae2 && _0x330ae2.length > 0xf) {
				_0x330ae2 = _0x330ae2.substring(0x0, 0xf);
			}
			if(window.core) {
				window.core.sendNick(_0x330ae2);
			}
		},
		'spectate': function() {
			if(window.core) {
				window.core.sendSpectate();
			}
		},
		'updatePartyToken': function() {
			$('#party-token, .party-token').val(this.partyToken);
		},
		'checkHash': function() {
			if(this.checkPartyHash()) {
				this.joinParty(window.location.hash);
				return;
			}
			var _0x35b192 = ['#ffa', '#battleroyale', '#teams', '#experimental'];
			if(window.location.hash && _0x35b192.indexOf(window.location.hash) != -0x1) {
				this.setGameMode(window.location.hash.replace('#', ':'));
			}
		},
		'checkPartyHash': function() {
			return window.location.hash && window.location.hash.length == 0x7;
		},
		'replaceHistoryState': function(_0x21389d) {
			if(window.history && window.history.replaceState) {
				window.history.replaceState({}, window.document.title, _0x21389d);
			}
		},
		'facebookLogin': function() {
			window.facebookLogin();
		},
		'doLoginWithFB': function(_0x5e5fe7) {
			this.context = 'facebook';
			this.accessToken = _0x5e5fe7;
		},
		'doLoginWithGPlus': function(_0x519458) {
			this.context = 'google';
			this.accessToken = _0x519458;
		},
		'login': function() {
			if(!this.accessToken) {
				return;
			}
			if(this.context === 'facebook' && window.core && window.core.sendFbToken) {
				window.core.sendFbToken(this.accessToken);
			}
			if(this.context === 'google' && window.core && window.core.sendGplusToken) {
				window.core.sendGplusToken(this.accessToken);
			}
			var styles = [
				'background: red',
				'background: orange',
				'background: gold',
				'background: yellowgreen',
				'background: skyblue',
				'background: steelblue',
				'background: darkviolet'
				];
				console.log ( '%c ☝ %c ᴅ %c ᴏ %c ᴄ %c ᴛ %c ᴏ %c ʀ ',
					styles[0], styles[1], styles[2], styles[3],
					styles[4], styles[5], styles[6] );
		},
		'logout': function() {
			this.accessToken = null;
			this.reconnect();
		},
		'setUI': function() {
			var _0x14ea4c = this;
			$('[data-itr]').each(function() {
				var _0x4e14d4 = $(this);
				var _0xcb3d42 = _0x4e14d4.attr('data-itr');
				_0x4e14d4.html(window.i18n(_0xcb3d42));
			});
			$('#gamemode').on('change', function() {
				_0x14ea4c.handleChangeMode();
			});
			$('.btn-play, .btn-play-guest').on('click', function(_0x140f2f) {
				_0x140f2f.preventDefault();
				_0x14ea4c.setNick();
			});
			$('.btn-spectate').on('click', function(_0x1d8783) {
				_0x1d8783.preventDefault();
				_0x14ea4c.spectate();
			});
			$('#create-party-btn-2').on('click', function(_0x2a296e) {
				_0x2a296e.preventDefault();
				_0x14ea4c.createParty();
			});
			$('#join-party-btn-2').on('click', function(_0x5aec60) {
				_0x5aec60.preventDefault();
				_0x14ea4c.joinParty($('#party-token').val());
			});
			window.toggleSocialLogin = function() {
				$('#socialLoginContainer').toggle();
			};
		},
		'init': function() {
			var _0x2c1091 = this;
			this.setUI();
			this.getRegionNames();
			this.refreshRegionInfo();
			this.checkHash();
			this.getRegionCode();
			this.checkRegion();
			setInterval(function() {
				_0x2c1091.refreshRegionInfo();
			}, 0x2bf20);
		}
	};
	window.getStorage = function() {
		if(window.localStorage.getItem('storeObjectInfo') !== null) {
			_0x4d36c9 = JSON.parse(window.localStorage.getItem('storeObjectInfo'));
		}
	};
	window.updateStorage = function() {
		window.localStorage.setItem('storeObjectInfo', JSON.stringify(_0x4d36c9));
	};
	window.logout = function() {
		if(_0x4d36c9.context === 'google') {
			_0x334a78 && _0x334a78.signOut();
		}
		delete window.localStorage.storeObjectInfo;
		$('#helloContainer').attr('data-logged-in', '0');
		$('.progress-bar-striped').width('0%');
		master.logout();
	};
	window.facebookLogin = function() {
		alert('You seem to have something blocking Facebook on your browser, please check for any extensions');
	};
	window.fbAsyncInit = function() {
		window.FB.init({
			'appId': _0x2f4cd1.fb_app_id,
			'cookie': !![],
			'xfbml': !![],
			'status': !![],
			'version': 'v2.8'
		});
		_0x47c6e6 = !![];
		_0x144b38();
	};

	function _0x144b38() {
		if(_0x47c6e6) {
			window.getStorage();
			if(_0x4d36c9.loginIntent === '1' && _0x4d36c9.context === 'facebook') {
				window.FB.getLoginStatus(function(_0x1afdf4) {
					if(_0x1afdf4.status === 'connected') {
						_0x595e4f(_0x1afdf4);
					} else {
						window.logout();
					}
				});
			}
			window.facebookRelogin = _0x4bebee;
			window.facebookLogin = _0x4bebee;
		}
	}

	function _0x4bebee(_0x42bd46) {
		if(window.FB === null) {
			alert('You seem to have something blocking Facebook on your browser, please check for any extensions');
		} else {
			_0x4d36c9.loginIntent = '1';
			_0x4d36c9.context = 'facebook';
			window.updateStorage();
			return window.FB.login(function(_0x42bd46) {
				_0x595e4f(_0x42bd46);
			}, {
				'scope': 'public_profile, email'
			}), !![];
		}
	}

	function _0x595e4f(_0x2c872e) {
		if(_0x2c872e.status === 'connected') {
			var _0x1338b0 = _0x2c872e.authResponse.accessToken;
			if(_0x1338b0) {
				master.doLoginWithFB(_0x1338b0);
				window.FB.api('/me/picture?width=180&height=180', function(_0x2c872e) {
					if(_0x2c872e.data && _0x2c872e.data.url) {
						_0x4d36c9.userInfo.picture = _0x2c872e.data.url;
						$('.agario-profile-picture').attr('src', _0x2c872e.data.url);
						window.updateStorage();
					}
				});
				$('#helloContainer').attr('data-logged-in', '1');
				$('.progress-bar-striped').width('100%');
			} else {
				if(_0x58459c < 0x3) {
					_0x58459c++;
					window.facebookRelogin();
					window.logout();
				}
			}
		}
	}
	window.gapiAsyncInit = function() {
		window.getStorage();
		_0x43698f();
	};

	function _0x43698f() {
		window.gapi.load('auth2', function() {
			_0x334a78 = window.gapi.auth2.init({
				'client_id': _0x2f4cd1.gplus_client_id,
				'cookie_policy': 'single_host_origin',
				'scope': 'profile',
				'app_package_name': 'com.miniclip.agar.io'
			});
			var _0x1ce0f2 = document.getElementById('gplusLogin');
			_0x1ce0f2.addEventListener('click', function() {
				_0x4d36c9.loginIntent = '1';
				_0x4d36c9.context = 'google';
				window.updateStorage();
			});
			_0x334a78.attachClickHandler(_0x1ce0f2);
			_0x334a78.currentUser.listen(_0x5b7725);
			_0x334a78.then(_0xb44808);
		});
	}

	function _0xb44808() {
		_0x334a78.currentUser.get();
		if(_0x4d36c9.loginIntent === '1' && _0x4d36c9.context === 'google') {
			!_0x334a78.isSignedIn.get() && _0x334a78.signIn();
		}
	}

	function _0x5b7725(_0x4cfe62) {
		if(!_0x4cfe62 || !_0x334a78) {
			return;
		}
		if(_0x4d36c9.loginIntent === '1' && _0x4d36c9.context === 'google') {
			if(_0x334a78.isSignedIn.get()) {
				var _0x21eb1d = _0x4cfe62.getAuthResponse();
				var _0x269d9f = _0x21eb1d.id_token;
				var _0x120ff8 = _0x4cfe62.getBasicProfile();
				var _0x2d47e3 = _0x120ff8.getImageUrl();
				master.doLoginWithGPlus(_0x269d9f);
				if(_0x2d47e3) {
					_0x4d36c9.userInfo.picture = _0x2d47e3;
					window.updateStorage();
					$('.agario-profile-picture').attr('src', _0x2d47e3);
				}
				$('#helloContainer').attr('data-logged-in', '1');
				$('.progress-bar-striped').width('100%');
			}
		}
	}
}(window, window.jQuery));
